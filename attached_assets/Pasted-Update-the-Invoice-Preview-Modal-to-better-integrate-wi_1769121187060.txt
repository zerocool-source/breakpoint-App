Update the Invoice Preview Modal to better integrate with our app data and match the QuickBooks invoice layout. When an estimate is ready to invoice, the modal should pull all billing, shipping, and contact information from our database for that property/customer account.
At the top of the modal, display a Property/Customer Account dropdown that shows the linked QuickBooks customer account for this property. Selecting or confirming the account will auto-populate the billing and shipping fields below.
For the Bill To section, show a dropdown of all billing addresses associated with that property/customer from our database, with the default billing address pre-selected. Allow the user to select a different address or type a custom address manually. Include fields for customer name, C/O, ATTN, and full address.
For the Ship To / Service Location section, show a dropdown of all property addresses associated with that account. Pre-select the property address where the work was performed. Allow selecting a different address or typing a custom one. Include the Ship From address showing Breakpoint Commercial Pool Systems, 6236 River Crest Drive Suite C, Riverside, CA 92507.
For the Email / Send Invoice To section, show a dropdown of all email contacts associated with that property/customer account from our database. Allow selecting multiple emails or typing a custom email address. Include CC/BCC options.
Below that, display the Invoice Details section matching QuickBooks layout with Invoice Number (auto-generated, editable), Terms dropdown (Net 30, Net 15, Due on Receipt, etc.), Invoice Date (date picker, defaults to today), and Due Date (auto-calculated based on terms, editable).
Include the Assignment Info section showing Repair Tech, Service Tech, Field Supervisor, Repair Foreman, Office Member, and Reported Date - all pulled from the completed job data.
Display the Line Items table with columns for Service Date, Product/Service, SKU, Description, Qty, Rate, Amount, Class (hidden), and Tax checkbox. Show Add product or service button and Clear all lines option. Below the table show Subtotal, Discount (percentage or dollar toggle), Taxable Subtotal, Sales Tax Rate dropdown (Automatic Calculation option), Sales Tax amount, and Invoice Total.
Include Customer Payment Options section with a text area for payment instructions. Add Note to Customer (visible on invoice), Internal Customer Notes (hidden from customer), and Memo on Statement (hidden). Include an Attachments section showing completion photos from the job with Add Attachment button (max 20 MB).
At the bottom, display Cancel, Edit Details, and Confirm & Send to QuickBooks buttons. When confirmed, create the invoice in QuickBooks via API with all the information and attachments, then update the estimate/job status to Invoiced.