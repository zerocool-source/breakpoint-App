In the Command Center under Properties → Customers, when viewing a customer's details in the right panel, add a new tab called "Service Techs" next to the existing tabs (Route, Bodies of Water, Equipment, Billing, Tags). This tab allows office staff to assign one or more service technicians to that property. Display an "Assigned Technicians" section with an "+ Add Technician" button that opens a dropdown of all active service technicians. Each assigned tech shows their name, avatar, and a remove button. Multiple technicians can be assigned to the same property for team routes.
Once technicians are assigned to a property, the Scheduling calendar should automatically generate their route stops based on the property's Visit Days (Monday, Wednesday, etc.) and Frequency (every week, biweekly, custom). This means if Tech A is assigned to Property X which has Monday/Wednesday visits set to "every week," Tech A automatically appears on the Monday and Wednesday columns in the Scheduling calendar with Property X as a stop — no manual scheduling needed. The system reads the property's route schedule settings and the assigned technicians to auto-populate the calendar each week.
However, real-world scenarios require temporary changes: a tech calls off sick, someone needs to cover a route, or a route gets split between two people for a day. Build a quick override system directly on the Scheduling calendar. When viewing a route card, add an option in the three-dot menu called "Reassign Today" or "Temporary Cover." Tapping this opens a modal to select a different technician (or multiple techs to split the route) and optionally add a reason (Sick, PTO, Emergency, Training, Other). This override only applies to that specific day — the next scheduled day automatically reverts to the originally assigned technician based on the property assignments. The override should be visually indicated on the calendar with a small badge or different border color so supervisors can see at a glance which routes were changed.
Create a new sub-section under Scheduling in the left sidebar called "Route History" with a history/log icon. This page logs every temporary change, reassignment, and coverage event. Display a table with columns: Date, Property, Original Tech, Covered By, Reason, Changed By (who made the override), and Timestamp. Include filters for date range, technician, property, and reason type. This creates full accountability for who covered what route and why, useful for payroll, performance tracking, and identifying patterns (e.g., one tech frequently calling off).
For the database, create a property_technicians table linking properties to their assigned technicians (property_id, technician_id, assigned_at, assigned_by). Create a route_overrides table for temporary changes (id, date, property_id, original_technician_id, covering_technician_id, reason, override_type enum: reassign/split/cancel, created_by_user_id, created_at, notes). The scheduling calendar queries both tables: first pull property assignments and their visit schedules to generate the base calendar, then overlay any overrides for specific dates.
The auto-generation logic should run when the calendar loads: for each property with assigned technicians and an active route schedule, create route stops for each Visit Day within the selected calendar view. If an override exists for that property + date combination, show the covering technician instead of the original. Include a visual indicator (orange dot or "Cover" badge) on overridden routes. Add a "Reset to Default" option in the route card menu that removes a temporary override if it was created by mistake.