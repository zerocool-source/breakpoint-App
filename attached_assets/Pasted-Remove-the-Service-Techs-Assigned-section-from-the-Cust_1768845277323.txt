Remove the "Service Techs Assigned" section from the Customer Route tab. Instead of assigning technicians to properties, we're flipping the approach — assign properties to technicians.
Under the Technicians section in the left sidebar, for both Service Technicians and Repair Technicians, add the ability to assign properties to each technician. When you click on a technician's profile, add a new tab called "Properties" or "Assigned Properties." This tab displays all properties assigned to that technician with an "+ Add Property" button. When adding a property, show a searchable dropdown of all customers/properties. Once a property is added to a technician, it pulls the Visit Days (Monday, Wednesday, Friday, etc.) from that property's Route Schedule under Customers → Route tab. Display each assigned property as a card showing: property name, address, visit days badges (MO, WE, FR highlighted), and frequency (weekly, biweekly). Include a remove button to unassign a property from the technician.
Based on these technician-to-property assignments and the property's Visit Days schedule, the system automatically generates route stops on the Scheduling calendar. If Tech A has Property X assigned, and Property X has Monday/Wednesday visits set to weekly, Tech A automatically appears on every Monday and Wednesday in the calendar with Property X as a stop. No manual scheduling required — the calendar reads from technician property assignments and property visit schedules to auto-populate.
For temporary changes and coverage, keep these features in the Scheduling calendar's route card three-dot menu:
"Reassign Today" — Reassign one or multiple properties from one tech to another for that day only. Select which properties to reassign and which tech will cover. This only affects that single day; the next scheduled day reverts to the original technician based on their property assignments.
"Temporary Cover" — Have another tech cover the entire route for one day. Select the covering technician and reason (Sick, PTO, Emergency, Training, Other). Reverts automatically the next day.
"Extended Cover" — For when someone is out more than one day. Select covering technician, start date, end date, and reason. The covering tech appears on the calendar for that date range, then automatically reverts to the original technician when the end date passes.
"Split Route" — Divide a route between two or more technicians for the day. Select which properties go to which tech.
All of these temporary changes, reassignments, and coverage events are logged in the Route History page under Scheduling. The Route History table shows: Date, Property/Properties Affected, Original Tech, Covered By, Coverage Type (Reassign/Cover/Extended Cover/Split), Reason, Date Range (for extended covers), Changed By (who made the override), and Timestamp. Include filters for date range, technician, property, coverage type, and reason.
For the database structure: Create a technician_properties table linking technicians to their assigned properties (technician_id, property_id, assigned_at, assigned_by). The scheduling auto-generation queries this table joined with the property's route_schedule to determine which tech goes where on which days. Create a route_overrides table for temporary changes (id, override_date, end_date nullable for extended covers, property_id, original_technician_id, covering_technician_id, override_type enum: reassign/cover/extended_cover/split, reason, created_by_user_id, created_at, notes). When the calendar loads, generate base routes from technician_properties + route schedules, then overlay any active overrides for the displayed date range.
This applies to both Service Technicians and Repair Technicians — both can have properties assigned to them, and both will auto-populate on the scheduling calendar based on their assigned properties' visit days.